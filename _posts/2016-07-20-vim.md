---
layout: post
title: "Vim: The Ubiquitous Text Editor"
tag: Linux
toc: true
---

This article introduces the usage of **Vim**.

<!--more-->

# Overview

**Vim** is a highly configurable text editor built to make creating and changing any kind of text very efficient. It is included as **vi** with most UNIX systems and with Apple OS X.

Vim is rock stable and is continuously being developed to become even better. Among its features are:

* persistent, multi-level undo tree
* extensive plugin system
* support for hundreds of programming languages and file formats
* powerful search and replace
* integrates with many tools

# Vim Usage

```
$ vim --version
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Jun 16 2016 10:50:38)
Included patches: 1-1689
Modified by pkg-vim-maintainers@lists.alioth.debian.org
Compiled by pkg-vim-maintainers@lists.alioth.debian.org
Huge version with GTK2 GUI.  Features included (+) or not (-):
+acl             +farsi           +mouse_netterm   +tag_binary
+arabic          +file_in_path    +mouse_sgr       +tag_old_static
+autocmd         +find_in_path    -mouse_sysmouse  -tag_any_white
+balloon_eval    +float           +mouse_urxvt     +tcl
+browse          +folding         +mouse_xterm     +terminfo
++builtin_terms  -footer          +multi_byte      +termresponse
+byte_offset     +fork()          +multi_lang      +textobjects
+channel         +gettext         -mzscheme        +timers
+cindent         -hangul_input    +netbeans_intg   +title
+clientserver    +iconv           +packages        +toolbar
+clipboard       +insert_expand   +path_extra      +user_commands
+cmdline_compl   +job             +perl            +vertsplit
+cmdline_hist    +jumplist        +persistent_undo +virtualedit
+cmdline_info    +keymap          +postscript      +visual
+comments        +langmap         +printer         +visualextra
+conceal         +libcall         +profile         +viminfo
+cryptv          +linebreak       -python          +vreplace
+cscope          +lispindent      +python3         +wildignore
+cursorbind      +listcmds        +quickfix        +wildmenu
+cursorshape     +localmap        +reltime         +windows
+dialog_con_gui  +lua             +rightleft       +writebackup
+diff            +menu            +ruby            +X11
+digraphs        +mksession       +scrollbind      -xfontset
+dnd             +modify_fname    +signs           +xim
-ebcdic          +mouse           +smartindent     +xsmp_interact
+emacs_tags      +mouseshape      +startuptime     +xterm_clipboard
+eval            +mouse_dec       +statusline      -xterm_save
+ex_extra        +mouse_gpm       -sun_workshop    +xpm
+extra_search    -mouse_jsbterm   +syntax          
   system vimrc file: "$VIM/vimrc"
     user vimrc file: "$HOME/.vimrc"
 2nd user vimrc file: "~/.vim/vimrc"
      user exrc file: "$HOME/.exrc"
  system gvimrc file: "$VIM/gvimrc"
    user gvimrc file: "$HOME/.gvimrc"
2nd user gvimrc file: "~/.vim/gvimrc"
    system menu file: "$VIMRUNTIME/menu.vim"
  fall-back for $VIM: "/usr/share/vim"
Compilation: gcc -c -I. -Iproto -DHAVE_CONFIG_H -DFEAT_GUI_GTK  -pthread -I/usr/include/gtk-2.0 -I/usr/lib/x86_64-linux-gnu/gtk-2.0/include -I/usr/include/gio-unix-2.0/ -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pixman-1 -I/usr/include/libpng12 -I/usr/include/gdk-pixbuf-2.0 -I/usr/include/libpng12 -I/usr/include/pango-1.0 -I/usr/include/harfbuzz -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib/x86_64-linux-gnu/glib-2.0/include -I/usr/include/freetype2 -Wdate-time  -g -O2 -fPIE -fstack-protector-strong -Wformat -Werror=format-security -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1      
Linking: gcc   -L. -Wl,-Bsymbolic-functions -Wl,-z,relro -Wl,-z,now -fstack-protector -rdynamic -Wl,-export-dynamic -Wl,-E  -Wl,-Bsymbolic-functions -fPIE -pie -Wl,-z,relro -Wl,-z,now -Wl,--as-needed -o vim   -lgtk-x11-2.0 -lgdk-x11-2.0 -lpangocairo-1.0 -latk-1.0 -lcairo -lgdk_pixbuf-2.0 -lgio-2.0 -lpangoft2-1.0 -lpango-1.0 -lgobject-2.0 -lglib-2.0 -lfontconfig -lfreetype -lSM -lICE -lXpm -lXt -lX11 -lXdmcp -lSM -lICE  -lm -ltinfo -lnsl  -lselinux  -lacl -lattr -lgpm -ldl  -L/usr/lib -llua5.2 -Wl,-E  -fstack-protector-strong -L/usr/local/lib  -L/usr/lib/x86_64-linux-gnu/perl/5.22/CORE -lperl -ldl -lm -lpthread -lcrypt  -L/usr/lib/python3.5/config-3.5m-x86_64-linux-gnu -lpython3.5m -lpthread -ldl -lutil -lm -L/usr/lib/x86_64-linux-gnu -ltcl8.6 -ldl -lz -lpthread -lieee -lm -lruby-2.3 -lpthread -lgmp -ldl -lcrypt -lm  
```

## 命令模式功能键

* **进入输入模式**

|  Key  | Description |
| :---- | :---------- |
| i     | 在当前光标之前插入文字 |
| I     | 在当前行行首插入文字 |
| a     | 在当前光标之后插入文字 |
| A     | 在当前行末尾插入文字 |
| o     | 在当前行后输入新的一行 |
| O     | 在当前行之前输入新的一行 |

<p/>

* **移动光标**

|  Key  | Description |
| :---- | :---------- |
| h     | 控制光标左移一个字符 |
| j     | 控制光标下移一个字符 |
| k     | 控制光标上移一个字符 |
| l     | 控制光标右移一个字符 |
| ctrl+b | 往后一页          |
| ctrl+f | 往前一页          |
| G      | 将光标移到文档最后一行行首 |
| #G     | 移动光标到第#行行首。例如: 44G 表示移动光标至第44行行首 |
| 0      | 将光标移到行首 (注意是数字零) |
| $      | 将光标移到行尾 |

<p/>

* **删除**

|  Key  | Description |
| :---- | :---------- |
| x     | 删除光标所在字符 |
| #x    | 删除自光标所在字符开始的n个字符(包含当前字符)。例如: 3x 表示删除3个字符 |
| dw    | 删除光标所在单词 |
| #dw   | 删除当前光标所在字符开始的n个单词 (包含当前单词) |
| d$    | 删除光标到行尾的所有字符(包含当前字符), 功能同 D |
| dd    | 删除光标所在行 |
| #dd   | 删除自当前行起的#行。例如: 3dd 表示删除自光标起的3行 |

* **替换**

|  Key  | Description |
| :---- | :---------- |
| r     | 替换光标所在的字符 |
| R     | 替换字符序列，直到按<Esc>为止 |
| cw    | 替换光标所在的字符至词尾的部分 |
| c#w   | 替换光标所在的字符至此单词后(包含此单词)第#个单词词尾的部分 |
| c$    | 替换自光标开始至行尾的所有字符, 功能同 C |
| cc    | 替换一整行内容 |

* **复制**

|  Key  | Description |
| :---- | :---------- |
| yw    | 拷贝从光标所在的字符至词尾的所有字符 |
| y$    | 拷贝从光标所在的字符至行尾的所有字符, 功能同 Y |
| yy    | 拷贝当前行 |
| #yy   | 拷贝自当前行开始的#行 |
| p     | 粘贴(put)剪贴板中的字符到光标之后 |
| #p    | 粘贴(put)剪贴板中的字符#次到光标之后 |
| P     | 粘贴(put)剪贴板中的字符到光标之前 |
| #P    | 粘贴(put)剪贴板中的字符#次到光标之前 |

<p/>

NOTE: 指令 *yw* 与 *p* 必须搭配使用

* **撤销与重做**

|  Key  | Description |
| :---- | :---------- |
| U     | 撤销当前操作  |
| .     | 重做刚刚撤销的操作 |

<p/>

## 最后行模式下指令

NOTE: 使用前请先按 <Esc> 键确定在命令模式下，按 ```:``` 或 ```/``` 或 ```?``` 三键即可进入最后行模式.

* **列出行号**

|  Key  | Description |
| :---- | :---------- |
| :set nu | 列出行号   |
| :set all | 列出所有的选择项 |

<p/>

* **寻找字串**

|  Key  | Description |
| :---- | :---------- |
| /word | 由首至尾寻找  |
| ?word | 由尾至首寻找  |
| n     | 继续向相同方向查询 |
| N     | 继续向相反方向查询 |

<p/>

* **保存**

|  Key  | Description |
| :---- | :---------- |
| :w filename | 存入指定文件filename |
| :w！ filename | 强制将文档存入指定文件filename |
| :wq | 保存并退出vi |
| :wq! | 强制保存并退出vi |
| :q! | 保存并退出编辑的文件 |

<p/>

* **其他**

|  Key  | Description |
| :---- | :---------- |
| :! cmd | 执行外部命令 |
| :e filename | 创建新文件filename |
| :n filename | 加载文件filename |

<p/>

# Vim Cheat Sheet

Refer to [Vim Cheat Sheet](/assets/Vi-Vim_Graphical_Cheat_Sheet.bmp).

# References

* [Vim official site](http://www.vim.org/)
* [Interactive Vim Tutorial](http://www.openvim.com/)
* [Vim wikipedia](https://en.wikipedia.org/wiki/Vim_(text_editor))
* [Comparison of text editors](https://en.wikipedia.org/wiki/Comparison_of_text_editors)
* [List of text editors](https://en.wikipedia.org/wiki/List_of_text_editors)
